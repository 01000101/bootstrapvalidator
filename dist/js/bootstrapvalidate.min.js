/**
 * BootstrapValidate v0.1.0 (http://github.com/nghuuphuoc/bootstrapvalidate)
 *
 * A jQuery plugin to validate form fields. Use with Bootstrap 3
 *
 * @author      Nguyen Huu Phuoc <phuoc@huuphuoc.me>
 * @copyright   (c) 2013 Nguyen Huu Phuoc
 * @license     MIT
 */

!function(a){a.fn.bootstrapValidate=function(b){return this.each(function(){var c=a(this),d=c.data("bootstrapValidate");d||c.data("bootstrapValidate",d=new a.bootstrapValidator(this,b))})},a.bootstrapValidator=function(b,c){this.$form=a(b),this.options=a.extend({},a.bootstrapValidator.DEFAULT_OPTIONS,c),this.validate(),this.xhrRequests={},this.numPendingRequests=0},a.extend(a.bootstrapValidator,{DEFAULT_OPTIONS:{message:"This value is not valid",fields:null,iconClass:{valid:"icon-ok",invalid:"icon-remove"}},validator:{},prototype:{getForm:function(){return this.$form},validate:function(){if(null!=this.options.fields)for(var a in this.options.fields)this.validateField(a)},validateField:function(b){if(null!=this.options.fields[b]&&null!=this.options.fields[b].validator){var c=this.$form.find('[name="'+b+'"]');if(0!=c.length){var d=this,e=a(c[0]),f=e.attr("type"),g="checkbox"==f||"radio"==f?"change":"keyup";e.on(g,function(){var c=d.options.fields[b].validator;for(var f in c)if(a.bootstrapValidator.validator[f]){var g=a.bootstrapValidator.validator[f].validate(d,e,c[f]);if(g===!1){d.showError(e,f);break}g===!0&&d.removeError(e)}}).blur(function(){d.hideError(e)})}}},showError:function(b,c){var d=b.attr("name"),e=this.options.fields[d].validator[c],f=e.message||this.options.message;if(!b.data("bootstrapValidator.tooltip")){var g=a("<a/>").attr("href","#").attr("title",f).attr("data-toggle","tooltip").attr("data-placement","right").css("text-decoration","none").css("position","absolute").insertAfter(b);a("<i/>").addClass(this.options.iconClass.invalid).appendTo(g),b.data("bootstrapValidator.tooltip",g),g.on("shown.bs.tooltip",function(){if(!a(this).data("bootstrapValidator.tooltip.calculated")){a(this).data("bootstrapValidator.tooltip.calculated",!0);var b=a(this).parent(),c=a(this).data("bs.tooltip").$tip,d=b.width(),e=b.height(),f=parseInt(c.width()),g=parseInt(c.height()),h=parseInt(c.css("left")),i=parseInt(c.css("top"));c.css("left",h+d+10).css("top",i-e+5).width(f),a(this).css("position","absolute").css("left",h-a(this).width()+d+5).css("top",i+g/2-a(this).height()/2-e+5)}})}b.parents(".form-group").removeClass("has-success").addClass("has-error"),b.data("bootstrapValidator.tooltip").find("i").attr("class",this.options.iconClass.invalid).end().attr("title",f).attr("data-original-title",f).tooltip("show")},hideError:function(a){var b=a.data("bootstrapValidator.tooltip");b&&b.tooltip("hide")},removeError:function(a){a.parents(".form-group").removeClass("has-error").addClass("has-success");var b=a.data("bootstrapValidator.tooltip");b&&(b.find("i").attr("class",this.options.iconClass.valid).end().tooltip("destroy").remove(),a.removeData("bootstrapValidator.tooltip"))},startRequest:function(a,b,c){var d=a.attr("name");this.completeRequest(a,b),this.numPendingRequests<0&&(this.numPendingRequests=0),this.numPendingRequests++,this.xhrRequests[d]||(this.xhrRequests[d]={}),this.xhrRequests[d][b]=c},completeRequest:function(a,b){var c=a.attr("name");if(this.xhrRequests[c]&&this.xhrRequests[c][b]){var d=this.xhrRequests[c][b];this.numPendingRequests--,d.abort(),delete this.xhrRequests[c][b]}}}})}(window.jQuery),function(a){a.extend(a.bootstrapValidator.validator,{between:{validate:function(a,b,c){var d=parseFloat(b.val());return c.inclusive===!0?d>c.min&&d<c.max:d>=c.min&&d<=c.max}}})}(window.jQuery),function(a){a.extend(a.bootstrapValidator.validator,{digits:{validate:function(a,b){return/^\d+$/.test(b.val())}}})}(window.jQuery),function(a){a.extend(a.bootstrapValidator.validator,{emailAddress:{validate:function(b,c){var d=a.trim(c.val()),e=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return e.test(d)}}})}(window.jQuery),function(a){a.extend(a.bootstrapValidator.validator,{greaterThan:{validate:function(a,b,c){var d=parseFloat(b.val());return c.inclusive===!0?d>c.value:d>=c.value}}})}(window.jQuery),function(a){a.extend(a.bootstrapValidator.validator,{hexColor:{validate:function(a,b){var c=b.val();return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(c)}}})}(window.jQuery),function(a){a.extend(a.bootstrapValidator.validator,{identical:{validate:function(a,b,c){var d=b.val(),e=a.getForm().find('[name="'+c.field+'"]');return d==e.val()?(a.removeError(e),!0):!1}}})}(window.jQuery),function(a){a.extend(a.bootstrapValidator.validator,{lessThan:{validate:function(a,b,c){var d=parseFloat(b.val());return c.inclusive===!0?d<c.value:d<=c.value}}})}(window.jQuery),function(a){a.extend(a.bootstrapValidator.validator,{notEmpty:{validate:function(b,c){var d=c.attr("type");return"checkbox"==d||"radio"==d?c.is(":checked"):""!=a.trim(c.val())}}})}(window.jQuery),function(a){a.extend(a.bootstrapValidator.validator,{regexp:{validate:function(b,c,d){var e=a.trim(c.val());return e.match(d.regexp)}}})}(window.jQuery),function(a){a.extend(a.bootstrapValidator.validator,{remote:{validate:function(b,c,d){var e=c.val(),f=c.attr("name"),g=d.data;null==g&&(g={},g[f]=e);var h=a.ajax({type:"POST",url:d.url,dataType:"json",data:g}).success(function(a){b.completeRequest(c,"remote"),(a.valid===!1||"false"===a.valid)&&b.showError(c,"remote")});return b.startRequest(c,"remote",h),"pending"}}})}(window.jQuery),function(a){a.extend(a.bootstrapValidator.validator,{stringLength:{validate:function(b,c,d){var e=a.trim(c.val()),f=e.length;return d.min&&f<d.min||d.max&&f>d.max?!1:!0}}})}(window.jQuery),function(a){a.extend(a.bootstrapValidator.validator,{uri:{validate:function(a,b){var c=new RegExp("^(?:(?:https?|ftp)://)(?:\\S+(?::\\S*)?@)?(?:(?!10(?:\\.\\d{1,3}){3})(?!127(?:\\.\\d{1,3}){3})(?!169\\.254(?:\\.\\d{1,3}){2})(?!192\\.168(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))(?::\\d{2,5})?(?:/[^\\s]*)?$","i");return c.test(b.val())}}})}(window.jQuery),function(a){a.extend(a.bootstrapValidator.validator,{usZipCode:{validate:function(a,b){var c=b.val();return/^\d{5}([\-]\d{4})?$/.test(c)}}})}(window.jQuery);